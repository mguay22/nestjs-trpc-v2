---
title: 'Installation Guide'
---

import Link from 'next/link';
import Table from '@/components/Table';

# Installation

This document will guide you through the installation and setting up of **NestJS tRPC v2** in your NestJS project.

<Callout type="info">
  **NestJS tRPC v2** is a maintained fork of the original nestjs-trpc library.
  This fork provides active maintenance, updated dependencies, and modern
  tooling while maintaining API compatibility with the original library.
</Callout>

<Callout type="warn">
  If you don't have a NestJS project setup yet, please visit our
  <Link href="/docs/nestjs" className="underline">
    NestJS Quickstart Guide
  </Link>
  or check out the official
  <Link
    href="https://docs.nestjs.com"
    target={'_blank'}
    rel={'nofollow'}
    className="underline"
  >
    NestJS documentation
  </Link>
  .
</Callout>

<Steps>
  <Step>
  ### Manual Installation
  To install **NestJS tRPC v2** with your preferred package manager, you can use any of the following commands:

  <Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
    <Tab value="npm">
      ```bash
      npm install nestjs-trpc-v2 zod @trpc/server
      ```
    </Tab>
    <Tab value="pnpm">
      ```bash
      pnpm add nestjs-trpc-v2 zod @trpc/server
      ```
    </Tab>
    <Tab value="yarn">
      ```bash
      yarn add nestjs-trpc-v2 zod @trpc/server
      ```
    </Tab>
    <Tab value="bun">
      ```bash
      bun install nestjs-trpc-v2 zod @trpc/server
      ```
    </Tab>
  </Tabs>
  </Step>

  <Step>
  ### Initialization

Once the packages are installed, we can import the `TRPCModule` and configure it with the `forRoot()` static method.

```typescript title="app.module.ts"
import { Module } from '@nestjs/common';
import { TRPCModule } from 'nestjs-trpc-v2';

@Module({
  imports: [
    TRPCModule.forRoot({
      autoSchemaFile: './src/@generated',
    }),
  ],
})
export class AppModule {}
```

The `forRoot()` method takes an options object as an argument. These options are passed through to the underlying `express` or `fastify` driver. For example, if you want to disable the schema file generation (when deploying to production), you can omit the `autoSchemaFile` option.

  </Step>

  <Step>
  ### Start your NestJS server. You should be good to go!
  </Step>
</Steps>

<Callout type="error">
  When setting up **NestJS tRPC** you must set your `"sourceMap": true` in your
  `compilerOptions` within the `tsconfig.json` configuration file.
</Callout>

### Module Options

You can import `TRPCModuleOptions` type from `nestjs-trpc-v2` to safely assert all of the `TRPCModule` option types.

```typescript
import { TRPCModule, TRPCModuleOptions } from 'nestjs-trpc-v2';
const trpcOptions: TRPCModuleOptions = {
  autoSchemaFile: './src/@generated',
};
```

<Table columns={['Prop', 'Type', 'Default']}>
  <Table.Row>
    <Table.Cell icon>`basePath`</Table.Cell>
    <Table.Cell>`string`</Table.Cell>
    <Table.Cell>`"/trpc"`</Table.Cell>
  </Table.Row>
  <Table.Row>
    <Table.Cell icon>`autoSchemaFile`</Table.Cell>
    <Table.Cell>`string`</Table.Cell>
    <Table.Cell>-</Table.Cell>
  </Table.Row>
  <Table.Row>
    <Table.Cell icon>`schemaFileImports`</Table.Cell>
    <Table.Cell>`Array<Function | Object | ZodAny>`</Table.Cell>
    <Table.Cell>-</Table.Cell>
  </Table.Row>
  <Table.Row>
    <Table.Cell icon>`context`</Table.Cell>
    <Table.Cell>`TRPCContext`</Table.Cell>
    <Table.Cell>-</Table.Cell>
  </Table.Row>
  <Table.Row>
    <Table.Cell icon>
    <Link
      href="/docs/module-options#transformer"
      className="underline"
    >
      `transformer`
    </Link>
  </Table.Cell>
    <Table.Cell>`TransformerOptions`</Table.Cell>
    <Table.Cell>-</Table.Cell>
  </Table.Row>
  <Table.Row>
    <Table.Cell icon>`errorFormatter`</Table.Cell>
    <Table.Cell>`(opts: { shape, error }) => {}`</Table.Cell>
    <Table.Cell>-</Table.Cell>
  </Table.Row>
</Table>
